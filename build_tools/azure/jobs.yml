jobs:
- job: macOS

  pool:
    vmImage: 'macOS-latest'

  strategy:
    maxParallel: 4
    matrix:
      Python35:
        python.version: '3.5'

      Python36:
        python.version: '3.6'

      Python37:
        python.version: '3.7'

      Python38:
        python.version: '3.8'

  steps:
  - task: UsePythonVersion@0
    inputs:
      versionSpec: '$(python.version)'
    displayName: 'Setting Python version'

  - script: brew cask install gfortran
    displayName: 'Installing Fortran'

  - template: build_and_deploy.yml
